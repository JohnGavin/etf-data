[{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"etf-universe","dir":"Articles","previous_headings":"","what":"ETF Universe","title":"ETF Data Analysis","text":"start defining universe European UCITS ETFs listed LSE. universe precomputed CI avoid browser CORS restrictions. logic used retrieve universe list :","code":"get_etf_universe <- function(n = 20) {   path <- system.file(\"extdata\", \"etf_universe.csv\", package = \"etfdata\")   if (path == \"\") {     path <- \"inst/extdata/etf_universe.csv\"   }   if (file.exists(path)) {     res <- readr::read_csv(path, show_col_types = FALSE)     return(utils::head(res, n))   }    seed_path <- system.file(\"extdata\", \"seed_universe.csv\", package = \"etfdata\")   if (seed_path == \"\") {     seed_path <- \"inst/extdata/seed_universe.csv\"   }   res <- readr::read_csv(seed_path, show_col_types = FALSE)   utils::head(res, n) } # A tibble: 10 × 4    ticker name                                     isin         currency    <chr>  <chr>                                    <chr>        <chr>  1 VUSA.L Vanguard S&P 500 UCITS ETF               IE00B3XXRP09 GBP  2 CSPX.L iShares Core S&P 500 UCITS ETF           IE00B5BMR087 GBP  3 INRG.L iShares Global Clean Energy UCITS ETF    IE00B1XNHC34 GBP  4 EQQQ.L Invesco EQQQ Nasdaq-100 UCITS ETF        IE0032077012 GBP  5 VWRL.L Vanguard FTSE All-World UCITS ETF        IE00B3RBWM25 GBP  6 ISF.L  iShares Core FTSE 100 UCITS ETF          IE0005042456 GBP  7 VMID.L Vanguard FTSE 250 UCITS ETF              IE00BKX55Q28 GBP  8 VFEM.L Vanguard FTSE Emerging Markets UCITS ETF IE00B3VVMM84 GBP  9 VEVE.L Vanguard FTSE Developed World UCITS ETF  IE00BKX55T58 GBP 10 VGOV.L Vanguard UK Gilt UCITS ETF               IE00B42WWV65 GBP"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"metadata-justetf","dir":"Articles","previous_headings":"","what":"Metadata (JustETF)","title":"ETF Data Analysis","text":"Metadata comes JustETF screener table (full universe), includes fund size TER LSE-listed UCITS. pipeline uses screener result cached metadata snapshot.","code":"metadata <- fetch_justetf_screener(min_aum_gbp = 0, max_ter = Inf) # A tibble: 10 × 7    isin         aum_text   ter_text replication distribution domicile source_url    <chr>        <chr>      <chr>    <chr>       <chr>        <chr>    <chr>  1 IE00B3XXRP09 GBP 36,95… 0.07% p… Physical (… Distributing Ireland  https://w…  2 IE00B5BMR087 GBP 98,47… 0.07% p… Physical (… Accumulating Ireland  https://w…  3 IE00B1XNHC34 GBP 1,889… 0.65% p… Physical (… Distributing Ireland  https://w…  4 IE0032077012 GBP 8,283… 0.30% p… Physical (… Distributing Ireland  https://w…  5 IE00B3RBWM25 GBP 16,11… 0.19% p… Physical (… Distributing Ireland  https://w…  6 IE0005042456 GBP 13,49… 0.07% p… Physical (… Distributing Ireland  https://w…  7 IE00BKX55Q28 GBP 1,503… 0.10% p… Physical (… Distributing Ireland  https://w…  8 IE00B3VVMM84 GBP 2,283… 0.17% p… Physical (… Distributing Ireland  https://w…  9 IE00BKX55T58 GBP 3,021… 0.12% p… Physical (… Distributing Ireland  https://w… 10 IE00B42WWV65 GBP 354 m  0.05% p… Physical (… Distributing Ireland  https://w…"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"justetf-screener-api","dir":"Articles","previous_headings":"","what":"JustETF Screener API","title":"ETF Data Analysis","text":"addition cached snapshot, can query JustETF screener directly find ETFs meeting specific criteria (e.g., AUM > £200m, TER < 0.75%). Browser builds use cached snapshot cross-site requests blocked CORS. snapshot built curated ETF universe list incremental Yahoo price downloads (missing dates fetched). See docs/wiki/ETF_Data_Sources.md details.","code":"screener_results <- fetch_justetf_screener(min_aum_gbp = 200, max_ter = 0.75) print(head(screener_results))"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"price-history-yahoo-finance","dir":"Articles","previous_headings":"","what":"Price History (Yahoo Finance)","title":"ETF Data Analysis","text":"fetch daily price history Yahoo Finance using quantmod. snapshot, attempt single download per ticker short timeout store results use WebR/Shinylive.","code":"fetch_price_history(\"VUSA.L\") is_ci <- isTRUE(get0(\"is_ci\", ifnotfound = FALSE)) if (is_ci) {   message(\"Skipping history plot in CI.\") } else if (data_loaded && !is.null(history) && requireNamespace(\"ggplot2\", quietly = TRUE)) {   # Visualize Close Prices with Facets   print(     history %>%       ggplot(aes(x = date, y = close, color = ticker)) +       geom_line() +       facet_wrap(~ticker, scales = \"free_y\") +       labs(title = \"ETF Price History (LSE)\", y = \"Close Price (GBP)\") +       theme_minimal() +       theme(legend.position = \"none\")   )   print(history)   if (!is.null(history_summary)) {     print(head(history_summary, 10))   } } # A tibble: 30,120 × 8    ticker date        open  high   low close volume adjusted    <chr>  <date>     <dbl> <dbl> <dbl> <dbl>  <dbl>    <dbl>  1 VUSA.L 2020-01-02  46.5  46.9  46.5  46.8 138395     43.4  2 VUSA.L 2020-01-03  46.8  47.0  46.6  46.9  97886     43.5  3 VUSA.L 2020-01-06  46.8  46.8  46.3  46.6 197405     43.3  4 VUSA.L 2020-01-07  46.9  47.0  46.7  46.9 117291     43.6  5 VUSA.L 2020-01-08  46.6  47.2  46.6  47.1 175961     43.7  6 VUSA.L 2020-01-09  47.4  47.7  47.3  47.6 258297     44.2  7 VUSA.L 2020-01-10  47.7  47.9  47.6  47.7 149394     44.3  8 VUSA.L 2020-01-13  47.8  48.0  47.6  47.9 103430     44.5  9 VUSA.L 2020-01-14  48.0  48.2  47.9  48.0 156765     44.5 10 VUSA.L 2020-01-15  47.9  48.1  47.8  48.1 131200     44.6 # ℹ 30,110 more rows"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"combined-analysis","dir":"Articles","previous_headings":"","what":"Combined Analysis","title":"ETF Data Analysis","text":"join datasets parse AUM strings analyze relationship Fund Size, Liquidity, Fees.","code":"if (data_loaded && !is.null(history) && !is.null(metadata)) {   avg_vol <- history %>%     group_by(ticker) %>%     summarise(avg_daily_vol = mean(volume, na.rm = TRUE))      if (\"isin\" %in% colnames(universe) && \"isin\" %in% colnames(metadata)) {     combined <- universe %>%       inner_join(metadata, by = \"isin\")       if (!\"ticker\" %in% names(combined)) {       ticker_cols <- intersect(c(\"ticker\", \"ticker.x\", \"ticker.y\", \"ticker_meta\"), names(combined))       if (length(ticker_cols) > 0) {         combined <- combined %>%           dplyr::mutate(             ticker = dplyr::coalesce(!!!rlang::syms(ticker_cols))           ) %>%           dplyr::select(-dplyr::any_of(setdiff(ticker_cols, \"ticker\")))       }     }      combined <- combined %>%       inner_join(avg_vol, by = \"ticker\")          if (requireNamespace(\"stringr\", quietly = TRUE) && requireNamespace(\"dplyr\", quietly = TRUE)) {       if (\"aum_text\" %in% names(combined) && any(!is.na(combined$aum_text))) {         combined <- bind_cols(combined, parse_aum(combined$aum_text))       } else {         combined <- combined %>%           dplyr::mutate(             aum_amount = NA_real_,             aum_units = NA_character_,             total_amount = NA_real_           )       }     }      if (requireNamespace(\"readr\", quietly = TRUE) && requireNamespace(\"stringr\", quietly = TRUE)) {       if (\"ter_text\" %in% names(combined)) {         combined <- combined %>%           mutate(             ter_val = readr::parse_number(ter_text),             ter_units = stringr::str_extract(ter_text, \"[%]\")            )       } else {         combined <- combined %>%           mutate(             ter_val = NA_real_,             ter_units = NA_character_           )       }     }      cols_to_show <- c(\"ticker\", \"name\", \"currency\", \"aum_amount\", \"aum_units\", \"avg_daily_vol\", \"ter_val\")     cols_to_show <- intersect(cols_to_show, colnames(combined))     knitr::kable(head(combined %>% select(all_of(cols_to_show))))   } } else {   print(\"Combined data not available for this build.\") } if (exists(\"combined\") && requireNamespace(\"ggplot2\", quietly = TRUE)) {   print(     ggplot(combined, aes(x = total_amount, y = avg_daily_vol)) +       geom_point() +       scale_x_log10(labels = scales::label_currency(prefix = \"£\", scale_cut = scales::cut_short_scale())) +       scale_y_log10(labels = scales::label_number(scale_cut = scales::cut_short_scale())) +       labs(title = \"ETF Size vs Liquidity\",            x = \"Assets Under Management (AUM in GBP)\",            y = \"Average Daily Volume\") +       theme_minimal()   ) } if (exists(\"combined\") && \"ter_val\" %in% colnames(combined) && requireNamespace(\"ggplot2\", quietly = TRUE)) {   print(     ggplot(combined, aes(x = total_amount, y = ter_val)) +       geom_point() +       scale_x_log10(labels = scales::label_currency(prefix = \"£\", scale_cut = scales::cut_short_scale())) +       labs(title = \"ETF Size vs Cost (TER)\",            x = \"Assets Under Management (AUM in GBP)\",            y = \"Total Expense Ratio (%)\") +       theme_minimal()   ) } else if (exists(\"combined\")) {   print(\"TER data not available for plotting (ter_val column missing).\") } else {   print(\"Combined data not available for plotting.\") }"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"reproducibility-metadata","dir":"Articles","previous_headings":"","what":"Reproducibility & Metadata","title":"ETF Data Analysis","text":"","code":"sessionInfo() R version 4.5.2 (2025-10-31) Platform: aarch64-apple-darwin24.6.0 Running under: macOS Sequoia 15.7.1  Matrix products: default BLAS:   /nix/store/jammm5gz621n7dkzfzc1c43gs6xv9a10-blas-3/lib/libblas.dylib LAPACK: /nix/store/30ypx3jnyq4r1z4nv742j1csfflsd66v-openblas-0.3.30/lib/libopenblasp-r0.3.30.dylib;  LAPACK version 3.12.0  locale: [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8  time zone: Europe/Dublin tzcode source: internal  attached base packages: [1] stats     graphics  grDevices utils     datasets  methods   base  other attached packages: [1] stringr_1.5.2      targets_1.11.4     dplyr_1.1.4        ggplot2_4.0.0 [5] etfdata_0.0.0.9000  loaded via a namespace (and not attached):  [1] gtable_0.3.6       xfun_0.54          httr2_1.2.1        websocket_1.4.4  [5] processx_3.8.6     lattice_0.22-7     callr_3.7.6        tzdb_0.5.0  [9] vctrs_0.6.5        tools_4.5.2        ps_1.9.1           generics_0.1.4 [13] curl_7.0.0         base64url_1.4      tibble_3.3.0       xts_0.14.1 [17] pkgconfig_2.0.3    secretbase_1.0.5   data.table_1.17.8  RColorBrewer_1.1-3 [21] S7_0.2.0           lifecycle_1.0.4    compiler_4.5.2     farver_2.1.2 [25] chromote_0.5.1     janitor_2.2.1      codetools_0.2-20   snakecase_0.11.1 [29] htmltools_0.5.8.1  yaml_2.3.10        later_1.4.4        pillar_1.11.1 [33] tidyselect_1.2.1   rvest_1.0.5        digest_0.6.37      stringi_1.8.7 [37] purrr_1.1.0        labeling_0.4.3     fastmap_1.2.0      grid_4.5.2 [41] cli_3.6.5          logger_0.4.1       magrittr_2.0.4     utf8_1.2.6 [45] readr_2.1.5        withr_3.0.2        prettyunits_1.2.0  scales_1.4.0 [49] promises_1.5.0     backports_1.5.0    rappdirs_0.3.3     lubridate_1.9.4 [53] timechange_0.3.0   TTR_0.24.4         rmarkdown_2.30     httr_1.4.7 [57] igraph_2.2.1       quantmod_0.4.28    otel_0.2.0         zoo_1.8-14 [61] hms_1.1.4          evaluate_1.0.5     knitr_1.50         rlang_1.1.6 [65] Rcpp_1.1.0         glue_1.8.0         xml2_1.4.1         jsonlite_2.0.0 [69] R6_2.6.1 if (data_loaded) {   print(\"Universe:\")   print(head(universe, 10))   print(\"Metadata:\")   print(head(metadata, 10))   print(\"History:\")   print(head(history, 10)) } [1] \"Universe:\" # A tibble: 10 × 4    ticker name                                     isin         currency    <chr>  <chr>                                    <chr>        <chr>  1 VUSA.L Vanguard S&P 500 UCITS ETF               IE00B3XXRP09 GBP  2 CSPX.L iShares Core S&P 500 UCITS ETF           IE00B5BMR087 GBP  3 INRG.L iShares Global Clean Energy UCITS ETF    IE00B1XNHC34 GBP  4 EQQQ.L Invesco EQQQ Nasdaq-100 UCITS ETF        IE0032077012 GBP  5 VWRL.L Vanguard FTSE All-World UCITS ETF        IE00B3RBWM25 GBP  6 ISF.L  iShares Core FTSE 100 UCITS ETF          IE0005042456 GBP  7 VMID.L Vanguard FTSE 250 UCITS ETF              IE00BKX55Q28 GBP  8 VFEM.L Vanguard FTSE Emerging Markets UCITS ETF IE00B3VVMM84 GBP  9 VEVE.L Vanguard FTSE Developed World UCITS ETF  IE00BKX55T58 GBP 10 VGOV.L Vanguard UK Gilt UCITS ETF               IE00B42WWV65 GBP [1] \"Metadata:\" # A tibble: 10 × 7    isin         aum_text   ter_text replication distribution domicile source_url    <chr>        <chr>      <chr>    <chr>       <chr>        <chr>    <chr>  1 IE00B3XXRP09 GBP 36,95… 0.07% p… Physical (… Distributing Ireland  https://w…  2 IE00B5BMR087 GBP 98,47… 0.07% p… Physical (… Accumulating Ireland  https://w…  3 IE00B1XNHC34 GBP 1,889… 0.65% p… Physical (… Distributing Ireland  https://w…  4 IE0032077012 GBP 8,283… 0.30% p… Physical (… Distributing Ireland  https://w…  5 IE00B3RBWM25 GBP 16,11… 0.19% p… Physical (… Distributing Ireland  https://w…  6 IE0005042456 GBP 13,49… 0.07% p… Physical (… Distributing Ireland  https://w…  7 IE00BKX55Q28 GBP 1,503… 0.10% p… Physical (… Distributing Ireland  https://w…  8 IE00B3VVMM84 GBP 2,283… 0.17% p… Physical (… Distributing Ireland  https://w…  9 IE00BKX55T58 GBP 3,021… 0.12% p… Physical (… Distributing Ireland  https://w… 10 IE00B42WWV65 GBP 354 m  0.05% p… Physical (… Distributing Ireland  https://w… [1] \"History:\" # A tibble: 10 × 8    ticker date        open  high   low close volume adjusted    <chr>  <date>     <dbl> <dbl> <dbl> <dbl>  <dbl>    <dbl>  1 VUSA.L 2020-01-02  46.5  46.9  46.5  46.8 138395     43.4  2 VUSA.L 2020-01-03  46.8  47.0  46.6  46.9  97886     43.5  3 VUSA.L 2020-01-06  46.8  46.8  46.3  46.6 197405     43.3  4 VUSA.L 2020-01-07  46.9  47.0  46.7  46.9 117291     43.6  5 VUSA.L 2020-01-08  46.6  47.2  46.6  47.1 175961     43.7  6 VUSA.L 2020-01-09  47.4  47.7  47.3  47.6 258297     44.2  7 VUSA.L 2020-01-10  47.7  47.9  47.6  47.7 149394     44.3  8 VUSA.L 2020-01-13  47.8  48.0  47.6  47.9 103430     44.5  9 VUSA.L 2020-01-14  48.0  48.2  47.9  48.0 156765     44.5 10 VUSA.L 2020-01-15  47.9  48.1  47.8  48.1 131200     44.6"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"ETF Data Analysis","text":"","code":"sessionInfo() R version 4.5.2 (2025-10-31) Platform: aarch64-apple-darwin24.6.0 Running under: macOS Sequoia 15.7.1  Matrix products: default BLAS:   /nix/store/jammm5gz621n7dkzfzc1c43gs6xv9a10-blas-3/lib/libblas.dylib LAPACK: /nix/store/30ypx3jnyq4r1z4nv742j1csfflsd66v-openblas-0.3.30/lib/libopenblasp-r0.3.30.dylib;  LAPACK version 3.12.0  locale: [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8  time zone: Europe/Dublin tzcode source: internal  attached base packages: [1] stats     graphics  grDevices utils     datasets  methods   base  other attached packages: [1] stringr_1.5.2      targets_1.11.4     dplyr_1.1.4        ggplot2_4.0.0 [5] etfdata_0.0.0.9000  loaded via a namespace (and not attached):  [1] gtable_0.3.6       xfun_0.54          httr2_1.2.1        websocket_1.4.4  [5] processx_3.8.6     lattice_0.22-7     callr_3.7.6        tzdb_0.5.0  [9] vctrs_0.6.5        tools_4.5.2        ps_1.9.1           generics_0.1.4 [13] curl_7.0.0         base64url_1.4      tibble_3.3.0       xts_0.14.1 [17] pkgconfig_2.0.3    secretbase_1.0.5   data.table_1.17.8  RColorBrewer_1.1-3 [21] S7_0.2.0           lifecycle_1.0.4    compiler_4.5.2     farver_2.1.2 [25] chromote_0.5.1     janitor_2.2.1      codetools_0.2-20   snakecase_0.11.1 [29] htmltools_0.5.8.1  yaml_2.3.10        later_1.4.4        pillar_1.11.1 [33] tidyselect_1.2.1   rvest_1.0.5        digest_0.6.37      stringi_1.8.7 [37] purrr_1.1.0        labeling_0.4.3     fastmap_1.2.0      grid_4.5.2 [41] cli_3.6.5          logger_0.4.1       magrittr_2.0.4     utf8_1.2.6 [45] readr_2.1.5        withr_3.0.2        prettyunits_1.2.0  scales_1.4.0 [49] promises_1.5.0     backports_1.5.0    rappdirs_0.3.3     lubridate_1.9.4 [53] timechange_0.3.0   TTR_0.24.4         rmarkdown_2.30     httr_1.4.7 [57] igraph_2.2.1       quantmod_0.4.28    otel_0.2.0         zoo_1.8-14 [61] hms_1.1.4          evaluate_1.0.5     knitr_1.50         rlang_1.1.6 [65] Rcpp_1.1.0         glue_1.8.0         xml2_1.4.1         jsonlite_2.0.0 [69] R6_2.6.1"},{"path":"https://johngavin.github.io/etf-data/articles/analysis.html","id":"data-structures","dir":"Articles","previous_headings":"","what":"Data Structures","title":"ETF Data Analysis","text":"","code":"if (data_loaded) {   print(\"Universe:\")   print(head(universe, 10))   print(\"Metadata:\")   print(head(metadata, 10))   print(\"History:\")   print(head(history, 10)) } [1] \"Universe:\" # A tibble: 10 × 4    ticker name                                     isin         currency    <chr>  <chr>                                    <chr>        <chr>  1 VUSA.L Vanguard S&P 500 UCITS ETF               IE00B3XXRP09 GBP  2 CSPX.L iShares Core S&P 500 UCITS ETF           IE00B5BMR087 GBP  3 INRG.L iShares Global Clean Energy UCITS ETF    IE00B1XNHC34 GBP  4 EQQQ.L Invesco EQQQ Nasdaq-100 UCITS ETF        IE0032077012 GBP  5 VWRL.L Vanguard FTSE All-World UCITS ETF        IE00B3RBWM25 GBP  6 ISF.L  iShares Core FTSE 100 UCITS ETF          IE0005042456 GBP  7 VMID.L Vanguard FTSE 250 UCITS ETF              IE00BKX55Q28 GBP  8 VFEM.L Vanguard FTSE Emerging Markets UCITS ETF IE00B3VVMM84 GBP  9 VEVE.L Vanguard FTSE Developed World UCITS ETF  IE00BKX55T58 GBP 10 VGOV.L Vanguard UK Gilt UCITS ETF               IE00B42WWV65 GBP [1] \"Metadata:\" # A tibble: 10 × 7    isin         aum_text   ter_text replication distribution domicile source_url    <chr>        <chr>      <chr>    <chr>       <chr>        <chr>    <chr>  1 IE00B3XXRP09 GBP 36,95… 0.07% p… Physical (… Distributing Ireland  https://w…  2 IE00B5BMR087 GBP 98,47… 0.07% p… Physical (… Accumulating Ireland  https://w…  3 IE00B1XNHC34 GBP 1,889… 0.65% p… Physical (… Distributing Ireland  https://w…  4 IE0032077012 GBP 8,283… 0.30% p… Physical (… Distributing Ireland  https://w…  5 IE00B3RBWM25 GBP 16,11… 0.19% p… Physical (… Distributing Ireland  https://w…  6 IE0005042456 GBP 13,49… 0.07% p… Physical (… Distributing Ireland  https://w…  7 IE00BKX55Q28 GBP 1,503… 0.10% p… Physical (… Distributing Ireland  https://w…  8 IE00B3VVMM84 GBP 2,283… 0.17% p… Physical (… Distributing Ireland  https://w…  9 IE00BKX55T58 GBP 3,021… 0.12% p… Physical (… Distributing Ireland  https://w… 10 IE00B42WWV65 GBP 354 m  0.05% p… Physical (… Distributing Ireland  https://w… [1] \"History:\" # A tibble: 10 × 8    ticker date        open  high   low close volume adjusted    <chr>  <date>     <dbl> <dbl> <dbl> <dbl>  <dbl>    <dbl>  1 VUSA.L 2020-01-02  46.5  46.9  46.5  46.8 138395     43.4  2 VUSA.L 2020-01-03  46.8  47.0  46.6  46.9  97886     43.5  3 VUSA.L 2020-01-06  46.8  46.8  46.3  46.6 197405     43.3  4 VUSA.L 2020-01-07  46.9  47.0  46.7  46.9 117291     43.6  5 VUSA.L 2020-01-08  46.6  47.2  46.6  47.1 175961     43.7  6 VUSA.L 2020-01-09  47.4  47.7  47.3  47.6 258297     44.2  7 VUSA.L 2020-01-10  47.7  47.9  47.6  47.7 149394     44.3  8 VUSA.L 2020-01-13  47.8  48.0  47.6  47.9 103430     44.5  9 VUSA.L 2020-01-14  48.0  48.2  47.9  48.0 156765     44.5 10 VUSA.L 2020-01-15  47.9  48.1  47.8  48.1 131200     44.6"},{"path":[]},{"path":"https://johngavin.github.io/etf-data/articles/data_snapshot.html","id":"snapshot-overview","dir":"Articles","previous_headings":"","what":"Snapshot Overview","title":"Data Snapshot Report","text":"","code":"if (data_loaded && !is.null(universe)) {   cat(\"Snapshot generated at:\", format(snapshot_info$generated_at), \"\\n\")   cat(\"Source:\", snapshot_info$source, \"\\n\\n\")   cat(\"Tickers:\", nrow(universe), \"\\n\") } Snapshot generated at: NULL Source:  Tickers: 20 if (data_loaded && !is.null(history) && nrow(history) > 0) {   cat(\"Total rows:\", nrow(history), \"\\n\")   cat(\"Date range:\", format(min(history$date)), \"to\", format(max(history$date)), \"\\n\") } Total rows: 30120 Date range: 2020-01-02 to 2025-12-17"},{"path":"https://johngavin.github.io/etf-data/articles/data_snapshot.html","id":"coverage-summary","dir":"Articles","previous_headings":"","what":"Coverage Summary","title":"Data Snapshot Report","text":"","code":"if (data_loaded && !is.null(history_summary) && nrow(history_summary) > 0) {   ok_count <- sum(history_summary$ok, na.rm = TRUE)   total <- nrow(history_summary)   cat(\"Complete coverage:\", ok_count, \"/\", total, \"\\n\")   cat(\"Missing coverage:\", total - ok_count, \"\\n\\n\")   print(head(history_summary, 10)) }"},{"path":"https://johngavin.github.io/etf-data/articles/data_snapshot.html","id":"missing-data","dir":"Articles","previous_headings":"","what":"Missing Data","title":"Data Snapshot Report","text":"","code":"if (data_loaded && !is.null(history_summary) && nrow(history_summary) > 0) {   missing <- history_summary %>%     dplyr::filter(!.data$ok | .data$rows == 0)   if (nrow(missing) == 0) {     print(\"No missing coverage detected.\")   } else {     print(head(missing, 20))   } }"},{"path":"https://johngavin.github.io/etf-data/articles/data_snapshot.html","id":"recently-added-rows","dir":"Articles","previous_headings":"","what":"Recently Added Rows","title":"Data Snapshot Report","text":"","code":"if (data_loaded && !is.null(history_summary) && nrow(history_summary) > 0) {   recent <- history_summary %>%     dplyr::filter(.data$rows_added > 0) %>%     dplyr::arrange(dplyr::desc(.data$rows_added))   if (nrow(recent) == 0) {     print(\"No new rows were added in this snapshot.\")   } else {     print(head(recent, 20))   } }"},{"path":"https://johngavin.github.io/etf-data/articles/data_snapshot.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Data Snapshot Report","text":"","code":"sessionInfo() R version 4.5.2 (2025-10-31) Platform: aarch64-apple-darwin24.6.0 Running under: macOS Sequoia 15.7.1  Matrix products: default BLAS:   /nix/store/jammm5gz621n7dkzfzc1c43gs6xv9a10-blas-3/lib/libblas.dylib LAPACK: /nix/store/30ypx3jnyq4r1z4nv742j1csfflsd66v-openblas-0.3.30/lib/libopenblasp-r0.3.30.dylib;  LAPACK version 3.12.0  locale: [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8  time zone: Europe/Dublin tzcode source: internal  attached base packages: [1] stats     graphics  grDevices utils     datasets  methods   base  other attached packages: [1] readr_2.1.5        dplyr_1.1.4        etfdata_0.0.0.9000  loaded via a namespace (and not attached):  [1] utf8_1.2.6        rappdirs_0.3.3    generics_0.1.4    xml2_1.4.1  [5] stringi_1.8.7     lattice_0.22-7    hms_1.1.4         digest_0.6.37  [9] magrittr_2.0.4    evaluate_1.0.5    grid_4.5.2        timechange_0.3.0 [13] fastmap_1.2.0     jsonlite_2.0.0    processx_3.8.6    chromote_0.5.1 [17] ps_1.9.1          promises_1.5.0    httr_1.4.7        rvest_1.0.5 [21] purrr_1.1.0       httr2_1.2.1       cli_3.6.5         rlang_1.1.6 [25] yaml_2.3.10       otel_0.2.0        tools_4.5.2       tzdb_0.5.0 [29] curl_7.0.0        vctrs_0.6.5       logger_0.4.1      R6_2.6.1 [33] zoo_1.8-14        lifecycle_1.0.4   lubridate_1.9.4   snakecase_0.11.1 [37] stringr_1.5.2     janitor_2.2.1     pkgconfig_2.0.3   pillar_1.11.1 [41] later_1.4.4       glue_1.8.0        quantmod_0.4.28   Rcpp_1.1.0 [45] xfun_0.54         tibble_3.3.0      tidyselect_1.2.1  knitr_1.50 [49] websocket_1.4.4   htmltools_0.5.8.1 rmarkdown_2.30    xts_0.14.1 [53] compiler_4.5.2    TTR_0.24.4"},{"path":"https://johngavin.github.io/etf-data/articles/etfdata-wasm.html","id":"data-analysis-example","dir":"Articles","previous_headings":"","what":"Data Analysis Example","title":"etfdata in WebAssembly (WASM)","text":"retrieve ETF universe included package use cached snapshot generated CI. snapshot uses curated universe list incremental price downloads (missing dates fetched). snapshot available, fall back single live attempt per ticker short timeout.","code":""},{"path":"https://johngavin.github.io/etf-data/articles/etfdata-wasm.html","id":"justetf-screener","dir":"Articles","previous_headings":"","what":"JustETF Screener","title":"etfdata in WebAssembly (WASM)","text":"Query JustETF screener data. browser, rely cached snapshot produced build.","code":""},{"path":"https://johngavin.github.io/etf-data/articles/etfdata-wasm.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"etfdata in WebAssembly (WASM)","text":"","code":"sessionInfo()"},{"path":"https://johngavin.github.io/etf-data/articles/shinylive_dashboard.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"ETF Data Dashboard (Shinylive)","text":"","code":"sessionInfo() R version 4.5.2 (2025-10-31) Platform: aarch64-apple-darwin24.6.0 Running under: macOS Sequoia 15.7.1  Matrix products: default BLAS:   /nix/store/jammm5gz621n7dkzfzc1c43gs6xv9a10-blas-3/lib/libblas.dylib LAPACK: /nix/store/30ypx3jnyq4r1z4nv742j1csfflsd66v-openblas-0.3.30/lib/libopenblasp-r0.3.30.dylib;  LAPACK version 3.12.0  locale: [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8  time zone: Europe/Dublin tzcode source: internal  attached base packages: [1] stats     graphics  grDevices utils     datasets  methods   base  loaded via a namespace (and not attached):  [1] compiler_4.5.2    fastmap_1.2.0     cli_3.6.5         tools_4.5.2  [5] htmltools_0.5.8.1 yaml_2.3.10       rmarkdown_2.30    knitr_1.50  [9] jsonlite_2.0.0    xfun_0.54         digest_0.6.37     rlang_1.1.6 [13] evaluate_1.0.5"},{"path":"https://johngavin.github.io/etf-data/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"John Gavin. Author, maintainer.","code":""},{"path":"https://johngavin.github.io/etf-data/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gavin J (2025). etfdata: European UCITS ETF Data Collection. R package version 0.0.0.9000, https://johngavin.github.io/etf-data.","code":"@Manual{,   title = {etfdata: European UCITS ETF Data Collection},   author = {John Gavin},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://johngavin.github.io/etf-data}, }"},{"path":"https://johngavin.github.io/etf-data/index.html","id":"etfdata","dir":"","previous_headings":"","what":"European UCITS ETF Data Collection","title":"European UCITS ETF Data Collection","text":"goal etfdata provide tools fetch, clean, store historical metadata European bond equity index ETFs (UCITS) listed London Stock Exchange","code":""},{"path":"https://johngavin.github.io/etf-data/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"European UCITS ETF Data Collection","text":"can install development version etfdata GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"JohnGavin/etf-data/etfdata\")"},{"path":"https://johngavin.github.io/etf-data/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"European UCITS ETF Data Collection","text":"example demonstrates retrieve ETF universe, fetch metadata (including AUM), filter largest funds, visualize price history. Example output (cached snapshot):","code":"library(etfdata) library(dplyr) library(ggplot2)  # 1. Get the universe of ETFs universe <- get_etf_universe()  # 2. Fetch metadata (AUM, TER, etc.) for the first few ETFs to identify top funds # (In a real scenario, you might fetch metadata for the whole universe) sample_isins <- head(universe$isin, 5) metadata <- fetch_etf_metadata(sample_isins)   # Join metadata to the universe subset detailed_universe <- universe %>%   filter(isin %in% sample_isins) %>%   left_join(metadata, by = \"isin\")  print(detailed_universe)  # For demonstration, we'll assume we identified top tickers top_tickers <- c(\"VUSA.L\", \"CSP1.L\", \"INRG.L\", \"EQQQ.L\")  # 3. Fetch Price History for Top 4 history <- fetch_price_history(top_tickers)  # 4. Plot the performance history %>%   ggplot(aes(x = date, y = close, color = ticker)) +   geom_line() +   facet_wrap(~ticker, scales = \"free_y\") +   labs(     title = \"Price History of Top ETFs\",     x = \"Date\",     y = \"Close Price (GBP)\"   ) +   theme_minimal() +   theme(legend.position = \"none\") # A tibble: 5 x 6   ticker name                                  isin         currency aum_text     ter_text   <chr>  <chr>                                 <chr>        <chr>    <chr>        <chr> 1 VUSA.L Vanguard S&P 500 UCITS ETF            IE00B3XXRP09 GBP      GBP 36,957 m 0.07% p.a. 2 CSPX.L iShares Core S&P 500 UCITS ETF        IE00B5BMR087 GBP      GBP 98,470 m 0.07% p.a. 3 INRG.L iShares Global Clean Energy UCITS ETF IE00B1XNHC34 GBP      GBP 1,889 m  0.65% p.a. 4 EQQQ.L Invesco EQQQ Nasdaq-100 UCITS ETF     IE0032077012 GBP      GBP 8,283 m  0.30% p.a. 5 VWRL.L Vanguard FTSE All-World UCITS ETF     IE00B3RBWM25 GBP      GBP 16,116 m 0.19% p.a."},{"path":"https://johngavin.github.io/etf-data/index.html","id":"justetf-screener","dir":"","previous_headings":"","what":"JustETF Screener","title":"European UCITS ETF Data Collection","text":"can also fetch live list ETFs directly JustETF screener API, allowing filter AUM (Assets Management) TER (Total Expense Ratio). Example output (cached snapshot):","code":"# Fetch ETFs with > £200m AUM and < 0.75% TER screener_data <- fetch_justetf_screener(min_aum_gbp = 200, max_ter = 0.75)  print(head(screener_data)) ## WebR, CORS, and Cached Data  Browser builds cannot call JustETF or Yahoo Finance directly because the browser enforces cross-site request restrictions (CORS). To keep the WebR and Shinylive demos working, the project precomputes a full LSE ETF snapshot in CI using `targets` and stores it in:  - `inst/extdata/etf_universe_curated.csv` (manual universe list; edit to add/remove ETFs) - `inst/extdata/etf_universe.csv` - `inst/extdata/history_cache.rds` - `inst/extdata/history_summary.rds` - `inst/extdata/vignette_data.rds`  See `docs/wiki/ETF_Data_Sources.md` for the rationale, refresh steps, and alternative data sources. The cached data coverage summary is in the vignette `vignettes/data_snapshot.qmd` (published as `articles/data_snapshot.html`).  To refresh the snapshot locally (only missing dates/tickers are downloaded):  ```r setwd(\"etfdata\") targets::tar_make()"},{"path":"https://johngavin.github.io/etf-data/index.html","id":"a-tibble-6-x-6","dir":"","previous_headings":"","what":"A tibble: 6 x 6","title":"European UCITS ETF Data Collection","text":"isin aum_text ter_text ticker name currency  1 IE00B3XXRP09 GBP 36,957 m 0.07% p.. VUSA.L Vanguard S&P 500 UCITS ETF GBP 2 IE00B5BMR087 GBP 98,470 m 0.07% p.. CSPX.L iShares Core S&P 500 UCITS ETF GBP 3 IE00B1XNHC34 GBP 1,889 m 0.65% p.. INRG.L iShares Global Clean Energy UCITS ETF GBP 4 IE0032077012 GBP 8,283 m 0.30% p.. EQQQ.L Invesco EQQQ Nasdaq-100 UCITS ETF GBP 5 IE00B3RBWM25 GBP 16,116 m 0.19% p.. VWRL.L Vanguard FTSE -World UCITS ETF GBP 6 IE0005042456 GBP 13,494 m 0.07% p.. ISF.L iShares Core FTSE 100 UCITS ETF GBP","code":"## Reproducibility with Nix  This project is reproducible using [Nix](https://nixos.org/).  ### Installation We recommend the [Determinate Systems Nix Installer](https://github.com/DeterminateSystems/nix-installer): ```bash curl --proto '=https' --tlsv1.2 -sSf -L https://install.determinate.systems/nix | sh"},{"path":"https://johngavin.github.io/etf-data/index.html","id":"running","dir":"","previous_headings":"","what":"Running","title":"European UCITS ETF Data Collection","text":"project root (etf-data), drop reproducible R environment dependencies: Install package user library inside nix shell (per shell): run examples (e.g. print universe). Use one following options: Option : Load package directly source (install step needed): Option B: Use custom library path explicitly: Note: devtools included Nix development shell convenience, runtime dependency etfdata package. Expected output:","code":"nix-shell default.nix R CMD INSTALL --library=$HOME/.Rlibs_etf etfdata Rscript --vanilla -e 'devtools::load_all(\"etfdata\"); packageVersion(\"etfdata\"); str(get_etf_universe())' R_LIBS_USER=$HOME/.Rlibs_etf Rscript --vanilla -e 'library(etfdata); packageVersion(\"etfdata\"); str(get_etf_universe())' [1] ‘0.0.0.9000’ tibble [20 × 4] (S3: tbl_df/tbl/data.frame)  $ ticker  : chr [1:20] \"VUSA.L\" \"CSPX.L\" \"INRG.L\" \"EQQQ.L\" ...  $ name    : chr [1:20] \"Vanguard S&P 500 UCITS ETF\" \"iShares Core S&P 500 UCITS ETF\" ...  $ isin    : chr [1:20] \"IE00B3XXRP09\" \"IE00B5BMR087\" \"IE00B1XNHC34\" \"IE0032077012\" ...  $ currency: chr [1:20] \"GBP\" \"GBP\" \"GBP\" \"GBP\" ..."},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_holdings.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch ETF Holdings from Yahoo Finance — fetch_etf_holdings","title":"Fetch ETF Holdings from Yahoo Finance — fetch_etf_holdings","text":"Retrieves historical fund holdings (composition) given ETF ticker using tidyquant. includes top holdings, sector weights, asset allocation data.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_holdings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch ETF Holdings from Yahoo Finance — fetch_etf_holdings","text":"","code":"fetch_etf_holdings(symbol)"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_holdings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch ETF Holdings from Yahoo Finance — fetch_etf_holdings","text":"symbol Character string. ticker symbol ETF (e.g., \"SPY\").","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_holdings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch ETF Holdings from Yahoo Finance — fetch_etf_holdings","text":"tibble containing holding details. Returns NULL empty tibble failure.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_holdings.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch ETF Holdings from Yahoo Finance — fetch_etf_holdings","text":"","code":"if (FALSE) { # \\dontrun{   fetch_etf_holdings(\"SPY\") } # }"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch ETF Metadata from Yahoo Finance API — fetch_etf_metadata","title":"Fetch ETF Metadata from Yahoo Finance API — fetch_etf_metadata","text":"Fetches metadata (AUM, TER, etc.) given ETF ticker Yahoo Finance API.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch ETF Metadata from Yahoo Finance API — fetch_etf_metadata","text":"","code":"fetch_etf_metadata(symbol)"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch ETF Metadata from Yahoo Finance API — fetch_etf_metadata","text":"symbol Character string. Yahoo Finance ticker symbol ETF (e.g., \"VUSA.L\").","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch ETF Metadata from Yahoo Finance API — fetch_etf_metadata","text":"tibble metadata columns. Returns empty tibble symbol fetching fails.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_etf_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch ETF Metadata from Yahoo Finance API — fetch_etf_metadata","text":"","code":"if (FALSE) { # \\dontrun{   fetch_etf_metadata(\"VUSA.L\") } # }"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch ETF Metadata from JustETF — fetch_justetf_metadata","title":"Fetch ETF Metadata from JustETF — fetch_justetf_metadata","text":"Scrapes metadata (AUM, TER, etc.) given ETF ISIN JustETF.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch ETF Metadata from JustETF — fetch_justetf_metadata","text":"","code":"fetch_justetf_metadata(isin)"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch ETF Metadata from JustETF — fetch_justetf_metadata","text":"isin Character string. ISIN ETF (e.g., \"IE00B3XXRP09\").","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch ETF Metadata from JustETF — fetch_justetf_metadata","text":"tibble metadata columns.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch ETF Metadata from JustETF — fetch_justetf_metadata","text":"","code":"if (FALSE) { # \\dontrun{   fetch_etf_metadata(\"IE00B3XXRP09\") } # }"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_screener.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch ETF Data from JustETF — fetch_justetf_screener","title":"Fetch ETF Data from JustETF — fetch_justetf_screener","text":"Retrieves list ETFs JustETF, applying optional filters AUM TER. function first tries legacy JSON API, falls back JustETF search table endpoint needed.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_screener.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch ETF Data from JustETF — fetch_justetf_screener","text":"","code":"fetch_justetf_screener(   min_aum_gbp = 0,   max_ter = Inf,   page_size = 500,   max_pages = Inf,   source = c(\"auto\", \"api\", \"wicket\"),   quiet = FALSE )"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_screener.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch ETF Data from JustETF — fetch_justetf_screener","text":"min_aum_gbp Numeric. Minimum Assets Management GBP (millions). Default 0. max_ter Numeric. Maximum Total Expense Ratio (percentage). Default Inf. page_size Integer. Number rows per page paging table endpoint. max_pages Integer. Maximum number pages fetch paging. Default Inf. source Character. Data source preference: \"auto\", \"api\", \"wicket\". quiet Logical. TRUE, suppresses warnings endpoints fail.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_screener.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch ETF Data from JustETF — fetch_justetf_screener","text":"tibble containing filtered ETF data.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_justetf_screener.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch ETF Data from JustETF — fetch_justetf_screener","text":"","code":"if (FALSE) { # \\dontrun{   etfs <- fetch_justetf_screener()   print(etfs) } # }"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_price_history.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Price History from Yahoo Finance — fetch_price_history","title":"Fetch Price History from Yahoo Finance — fetch_price_history","text":"Retrieves daily OHLCV data given ticker using quantmod/Yahoo.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_price_history.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Price History from Yahoo Finance — fetch_price_history","text":"","code":"fetch_price_history(ticker, start_date = \"2020-01-01\", end_date = Sys.Date())"},{"path":"https://johngavin.github.io/etf-data/reference/fetch_price_history.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Price History from Yahoo Finance — fetch_price_history","text":"ticker Character string. ticker symbol (e.g., \"VUSA.L\"). start_date Date character. Start date (default \"2020-01-01\"). end_date Date character. End date (default Sys.Date()).","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_price_history.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Price History from Yahoo Finance — fetch_price_history","text":"tibble Date, Open, High, Low, Close, Volume, Adjusted columns.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/fetch_price_history.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Price History from Yahoo Finance — fetch_price_history","text":"","code":"if (FALSE) { # \\dontrun{   fetch_price_history(\"VUSA.L\") } # }"},{"path":"https://johngavin.github.io/etf-data/reference/get_etf_universe.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ETF Universe — get_etf_universe","title":"Get ETF Universe — get_etf_universe","text":"Retrieves list ETFs track. Prefers curated universe file available, falls back cached snapshot seed list.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/get_etf_universe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ETF Universe — get_etf_universe","text":"","code":"get_etf_universe(n = 20, live = FALSE, file = NULL)"},{"path":"https://johngavin.github.io/etf-data/reference/get_etf_universe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get ETF Universe — get_etf_universe","text":"n Integer. Maximum number ETFs return. Default 20. Set Inf . live Logical. TRUE, attempts fetch latest universe external source. file Character. Path local CSV file read universe . Overrides live default cache.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/get_etf_universe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ETF Universe — get_etf_universe","text":"tibble columns: ticker, name, isin, currency","code":""},{"path":"https://johngavin.github.io/etf-data/reference/get_etf_universe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get ETF Universe — get_etf_universe","text":"","code":"if (FALSE) { # \\dontrun{   get_etf_universe() # Returns top 20   get_etf_universe(n = 5)   get_etf_universe(n = Inf) # Returns all   get_etf_universe(file = \"my_etfs.csv\") } # }"},{"path":"https://johngavin.github.io/etf-data/reference/parse_aum.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse AUM Text — parse_aum","title":"Parse AUM Text — parse_aum","text":"Converts AUM (Assets Management) string (e.g., \"GBP 100,642 m\") structured components.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/parse_aum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse AUM Text — parse_aum","text":"","code":"parse_aum(aum_text)"},{"path":"https://johngavin.github.io/etf-data/reference/parse_aum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse AUM Text — parse_aum","text":"aum_text Character vector. AUM string(s) parse.","code":""},{"path":"https://johngavin.github.io/etf-data/reference/parse_aum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse AUM Text — parse_aum","text":"tibble columns: currency (factor), aum_amount (numeric), aum_units (factor), aum_units_amount (numeric).","code":""},{"path":"https://johngavin.github.io/etf-data/reference/parse_aum.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse AUM Text — parse_aum","text":"","code":"parse_aum(\"GBP 100,642 m\") #> # A tibble: 1 × 5 #>   currency aum_units aum_amount aum_units_amount total_amount #>   <fct>    <fct>          <dbl>            <dbl>        <dbl> #> 1 GBP      m             100642          1000000 100642000000"}]
